<div class="row">
    <div class="col-md-8 offset-md-2">
        <h1 class="mb-4">Criar Nova Ideia</h1>
        <div id="message-container"></div>
        <form id="create-idea-form">
            <div class="mb-3">
                <label for="title" class="form-label">Título da Ideia</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Descrição Detalhada</label>
                <textarea class="form-control" id="description" name="description" rows="5" required></textarea>
            </div>
            <div class="mb-3">
                <label for="category" class="form-label">Categoria</label>
                <input type="text" class="form-control" id="category" name="category" required>
            </div>
            <button type="submit" class="btn btn-primary">Salvar Ideia</button>
        </form>
    </div>
</div>

<script src="/js/ideas.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        if (!window.getToken()) {
            window.location.href = '/login';
            return;
        }
        
        const form = document.getElementById('create-idea-form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            window.handleIdeaFormSubmit(form, '/api/ideas', 'POST', (data) => {
                
                window.location.href = '/';
            });
        });
    });
</script>
